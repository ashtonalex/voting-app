# ğŸ—³ï¸ Event Voting Platform

A full-stack voting web application for events and competitions, built with **Next.js**, **TypeScript**, **Prisma**, **PostgreSQL**, and **TailwindCSS**. This platform enables public voting, QR code-based team access, and robust admin analytics for event organizers.

---

## ğŸš€ Features

### User-Facing Voting System

- **Public Voting Page**: Browse teams by track and cast votes.
- **Voter Instructions**: Clear instructions displayed at the top of the voting page.
- **Vote Limits**:
  - Up to **2 votes per track**
  - **1 vote per team**
- **Vote Tracking**: Votes are tracked using browser cookies; dynamic feedback messages inform users of their voting status.
- **Team Voting URLs**: Each team has a unique voting page at `/vote/[teamSlug]`.
  - **Slug Generation**: Team slugs are generated by sanitizing team names (whitespace to `_`, removing `/`, `\`, `+`, and problematic Unicode characters like `çµæ„Ÿè‡`).

### Admin Dashboard

- **Vote Management**: View all vote entries, filterable by track, team, or voter email.
- **Analytics & Charts**:
  - **Bar Chart**: Visualize total votes per team.
  - **Team Rankings**: Top 5 teams highlighted; others are scrollable.
- **Vote Entries Panel**: Paginated view (5 entries at a time) for all votes.
- **QR Code Access**: Quick link to QR code landing page (`/qr/production`).

### QR Code Management

- **QR Code Pages**:
  - `/qr/local` and `/qr/production`: List all team QR codes, sorted by track.
  - **Track Selector**: Dropdown menu to filter QR codes by track.
  - **QR Blocks**: Each block displays the team voting URL and a QR code image.
- **PDF Export**:
  - Download all QR codes as a PDF, with track headers and each team's name + QR code in bordered boxes.

---

## ğŸ› ï¸ Tech Stack

- **Frontend**: Next.js, TypeScript, TailwindCSS
- **Backend**: Next.js API routes, Prisma ORM
- **Database**: PostgreSQL
- **Authentication**: NextAuth.js (for admin dashboard)
- **QR Code Generation**: [qrcode](https://www.npmjs.com/package/qrcode) or similar

---

## ğŸ“¦ Project Structure (Simplified)

```
app/
  â”œâ”€ admin/           # Admin dashboard and analytics
  â”œâ”€ api/             # API routes (votes, auth, export, etc.)
  â”œâ”€ qr/              # QR code management pages
  â”œâ”€ vote/            # Public voting pages
  â”œâ”€ fonts/           # Custom fonts
  â”œâ”€ globals.css      # Global styles
components/
  â””â”€ ui/              # Reusable UI components
lib/                  # Utilities (auth, db, team name sanitization, etc.)
prisma/               # Prisma schema and migrations
scripts/              # Setup and utility scripts
public/               # Static assets
```

---

## âš™ï¸ Setup & Deployment

### 1. Clone the Repository

```bash
git clone <repo-url>
cd vote-app
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Configure Environment Variables

Create a `.env` file in the root directory. Example:

```env
DATABASE_URL=postgresql://user:password@localhost:5432/voteapp
ADMIN_PASSWORD_HASH=<bcrypt-hash>
NEXTAUTH_SECRET=<random-secret>
# ...other variables as needed
```

### 4. Database Setup

Run Prisma migrations to set up the database schema:

```bash
npx prisma migrate deploy
```

### 5. Development

```bash
npm run dev
```

### 6. Build & Production

```bash
npm run build
npm start
```

### 7. Deployment (Vercel Example)

- Push your code to a GitHub repository.
- Connect the repo to [Vercel](https://vercel.com/).
- Set environment variables in the Vercel dashboard.
- Vercel will handle static generation, type-checking, and Prisma builds automatically.

---

## ğŸ§© Utilities & Notes

- **Team Slug Generation**: Uses the `sanitizeTeamName` utility in `lib/team-track-map.ts`.
- **Vote Limits**: Enforced in both frontend and backend for integrity.
- **Environment Variables**: All sensitive config is managed via `.env`.
- **Prisma**: Used for type-safe database access and migrations.
- **TypeScript**: Ensures type safety across the stack.

---

## ğŸ“„ License

[Specify your license here]
